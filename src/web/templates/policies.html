{% extends "layout.html" %}

{% block body %}
    <div class="app-container">
        {% include 'components/menu.html' %}

        <main class="main-content">
            <header class="page-header">
                <div class="header-content">
                    <div>
                        <h1 class="text-4xl font-extrabold text-text-primary mb-2">Policy Management</h1>
                        <p class="header-subtitle">Define and automate energy-saving rules and schedules.</p>
                    </div>
                      <!-- Right side: Notification bell -->
                {% include 'components/notification_bell.html' %}
                </div>
            </header>

            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="mb-6">
                        {% for category, message in messages %}
                            <div class="flash {{ category }} rounded-lg text-sm" role="alert">
                                {{ message }}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}

            <section>
                <h3 class="text-xl font-semibold mb-4 text-gray-300">Automated Rules</h3>
                <div class="card">
                    <div class="card-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-12 w-12 text-green-400" fill="none"
                             viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M9 12l2 2 4-4m5.617-4.238A6.995 6.995 0 0112 5c-3.14 0-5.922 1.487-7.617 3.762A.5.5 0 004 8.248V16a2 2 0 002 2h12a2 2 0 002-2V8.248a.5.5 0 00-.383-.486z"/>
                        </svg>
                        <h3 class="mt-2 text-xl font-medium text-gray-200">Feature In Progress</h3>
                        <p class="mt-1 text-muted">Automated scheduling and policy creation tools are currently being
                            developed.</p>
                        <p class="mt-4 text-sm text-gray-500">Manage cooling/heating schedules for
                            your {{ rooms|length }} connected rooms here.</p>
                    </div>
                </div>
            </section>
        </main>
    </div>
{% endblock %}